!function t(e,r,i){function n(s,h){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!h&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return n(r?r:t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?9:arguments[0];i(this,t),this.sectorCount=e,this.sectors=[],this.sectorIDs=[],this.grid=[]}return o(t,[{key:"generate",value:function(){this.calculateGridSize(),this.createGrid(),this.createPlayZone()}},{key:"calculateGridSize",value:function(){var t=Math.sqrt(this.sectorCount),e=Math.floor(t)+2,r=e*e,i=n(2,r/2-2),o=Math.round(r/i),s=o*i;this.ideal=r,this.width=i,this.height=o,this.totalCount=s}},{key:"createGrid",value:function(){for(var t=[],e=0;e<this.height;e++){for(var r=[],i=0;i<this.width;i++)r.push({name:"column_"+i,number:this.width*e+(i+1)});t.push({name:"row_"+e,columns:r})}this.grid=t}},{key:"createPlayZone",value:function(){for(var t=0;t<this.sectorCount;t++)if(0==t){var e=n(1,this.totalCount),r=this.getPosition(e);this.addSector(1,e,r)}else{var i=this.sectors[t-1],o=this.getAdjacentSector(i.sectorNumber);this.addSector(t+1,o.sectorNumber,o.sectorPos)}}},{key:"getPosition",value:function(t){var e=Math.ceil(t/this.width)-1,r=Number;return this.grid[e].columns.forEach(function(e,i){e.number==t&&(r=i)}),{rowIndex:e,colIndex:r}}},{key:"addSector",value:function(t,e,r){this.sectors.push({index:t,sectorNumber:e,sectorPos:r}),this.sectorIDs.push(e),this.grid[r.rowIndex].columns[r.colIndex].playable=!0}},{key:"checkExisting",value:function(t){return this.sectorIDs.indexOf(t)>-1}},{key:"getAdjacentSector",value:function(t){var e=this.getPosition(t),r=[],i=t-this.width,o=t+this.width,s=t+1,h=t-1;return e.rowIndex>0&&(this.checkExisting(i)||r.push({sectorNumber:i,sectorPos:{rowIndex:e.rowIndex-1,colIndex:e.colIndex}})),e.rowIndex<this.height-1&&(this.checkExisting(o)||r.push({sectorNumber:o,sectorPos:{rowIndex:e.rowIndex+1,colIndex:e.colIndex}})),e.colIndex<this.width-1&&(this.checkExisting(s)||r.push({sectorNumber:s,sectorPos:{rowIndex:e.rowIndex,colIndex:e.colIndex+1}})),e.colIndex>0&&(this.checkExisting(h)||r.push({sectorNumber:h,sectorPos:{rowIndex:e.rowIndex,colIndex:e.colIndex-1}})),0==r.length&&this.generate(),r[n(1,r.length)-1]}}]),t}();r.Level2=s;var h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?15:arguments[0],r=arguments.length<=1||void 0===arguments[1]?15:arguments[1],n=arguments.length<=2||void 0===arguments[2]?40:arguments[2];i(this,t),this.width=e,this.height=r,this.fillPercentage=n,this.grid=[]}return o(t,[{key:"generate",value:function(){this.createGrid(),this.smoothMap()}},{key:"pseudoRandomSeed",value:function(){return n(1,100)<this.fillPercentage?1:0}},{key:"createGrid",value:function(){for(var t=[],e=0;e<this.height;e++){for(var r=[],i=0;i<this.width;i++)0==i||i==this.width-1||0==e||e==this.height-1?r.push(1):r.push(this.pseudoRandomSeed());t.push(r)}this.grid=t}},{key:"smoothMap",value:function(){for(var t=0;t<this.height;t++)for(var e=0;e<this.width;e++){var r=this.getSurroundingWallCount(e,t);r>4?this.grid[e][t]=1:r<4&&(this.grid[e][t]=0)}}},{key:"getSurroundingWallCount",value:function(t,e){for(var r=0,i=t-1;i<=t+1;i++)for(var n=e-1;n<=e+1;n++)i>=0&&i<this.width&&n>=0&&n<this.height?i==t&&n==e||(r+=this.grid[i][n]):r++;return r}}]),t}();r.map=h},{}]},{},[1]);